(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{40:function(e,t,a){e.exports=a.p+"static/media/hero.2e660dc5.jpg"},44:function(e,t,a){e.exports=a(82)},49:function(e,t,a){},50:function(e,t,a){},78:function(e,t,a){e.exports=a.p+"static/media/user-bg.931b4ea0.jpg"},81:function(e,t,a){},82:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(24),c=a.n(s),o=(a(49),a(50),a(51),a(9)),l=a(20),i=a(4),m=a(5),u=a(7),p=a(6),d=a(8),h=(a(52),function(){function e(){Object(i.a)(this,e)}return Object(m.a)(e,null,[{key:"setToken",value:function(e){localStorage.setItem("token",e)}},{key:"getToken",value:function(){return localStorage.getItem("token")}},{key:"logout",value:function(){localStorage.removeItem("token")}},{key:"getPayload",value:function(){var e=this.getToken();if(!e)return!1;var t=e.split(".");return!(t.length<3)&&JSON.parse(atob(t[1]))}},{key:"isAuthenticated",value:function(){var e=this.getPayload();return!!e&&Math.round(Date.now()/1e3)<e.exp}}]),e}()),v=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={loggedIn:!1,navOpen:!1},a.toggleNavbar=function(){a.setState({loggedIn:!a.state.loggedIn,navOpen:!a.state.navOpen})},a.handleLogout=function(){h.logout(),a.props.history.push("/")},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.location.pathname!==e.location.pathname&&this.setState({loggedIn:!1})}},{key:"render",value:function(){var e=h.getPayload().sub;return console.log(this.props),console.log(h.getToken()),r.a.createElement("nav",{className:"navbar is-dark"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"navbar-brand"},r.a.createElement(o.b,{className:"navbar-item",to:"/"},"HOME"),r.a.createElement("a",{className:"navbar-burger ".concat(this.state.navOpen?"is-active":""),onClick:this.toggleNavbar},r.a.createElement("span",{"aria-hidden":"true"}),r.a.createElement("span",{"aria-hidden":"true"}),r.a.createElement("span",{"aria-hidden":"true"}))),r.a.createElement("div",{className:"navbar-menu ".concat(this.state.navOpen?"is-active":"")},r.a.createElement("div",{className:"navbar-end"},r.a.createElement(o.b,{className:"navbar-item",to:"/sports"},"SPORTS"),r.a.createElement(o.b,{className:"navbar-item",to:"/events"},"EVENTS"),!h.isAuthenticated()&&r.a.createElement(o.b,{className:"navbar-item",to:"/login"},"LOGIN"),!h.isAuthenticated()&&r.a.createElement(o.b,{className:"navbar-item",to:"/register"},"REGISTER"),h.isAuthenticated()&&r.a.createElement(o.b,{className:"navbar-item",to:"/user/".concat(e)},"MY ACCOUNT"),h.isAuthenticated()&&r.a.createElement(o.b,{className:"navbar-item",to:"/user/".concat(e,"/cart")},"SHOPPING CART"),h.isAuthenticated()&&r.a.createElement(o.b,{className:"navbar-item",to:"/",onClick:this.handleLogout},"LOGOUT")))))}}]),t}(r.a.Component),f=Object(l.g)(v),b=a(39),g=function(e){var t=e.component,a=Object(b.a)(e,["component"]);return h.isAuthenticated()?r.a.createElement(l.b,Object.assign({},a,{component:t})):(h.logout(),r.a.createElement(l.a,{to:"/login"}))},E=a(40),N={width:"100%",backgroundImage:"url(".concat(a.n(E).a,")"),backgroundRepeat:"no-repeat",backgroundAttachment:"fixed",backgroundSize:"cover"},y=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{style:N,className:"hero is-fullheight-with-navbar"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"text-container"},r.a.createElement("h1",{className:"heading-hero"},"EXTREME Meet Up"),r.a.createElement("h2",{className:"slogan-hero"},"Destroy your fear.")))))},O=a(1),k=a.n(O),w=a(3),j=a(11),C=a(12),x=a(2),S=a.n(x),_=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={data:{email:"",password:""},error:""},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value,s=Object(C.a)({},a.state.data,Object(j.a)({},n,r));a.setState({data:s,error:""})},a.handleSubmit=function(){var e=Object(w.a)(k.a.mark((function e(t){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,S.a.post("/api/login",a.state.data);case 4:n=e.sent,h.setToken(n.data.token),a.props.history.push("/"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),a.setState({error:"Wrong Username/Password Combination"});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("section",{className:"main-body"},r.a.createElement("h1",{className:"main-heading"},"Login"),r.a.createElement("div",{className:"form-wrapper"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"main-form-group"},r.a.createElement("input",{className:"main-form-field",placeholder:"email",name:"email",onChange:this.handleChange,required:!0}),r.a.createElement("label",{htmlFor:"email",className:"main-form-label"},"Email")),r.a.createElement("div",{className:"main-form-group"},r.a.createElement("input",{className:"main-form-field",type:"password",placeholder:"password",name:"password",onChange:this.handleChange,required:!0}),r.a.createElement("label",{for:"password",className:"main-form-label"},"Password")),r.a.createElement("hr",{className:"divider"}),r.a.createElement("div",null,r.a.createElement("button",{className:"button is-rounded",type:"submit"},"Login")))))}}]),t}(r.a.Component),A=(a(78),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={user:null},a.isOwner=function(){return h.getPayload().sub===a.state.user.id},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(w.a)(k.a.mark((function e(){var t,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.id,e.prev=1,e.next=4,S.a.get("/api/user/".concat(t));case 4:a=e.sent,this.setState({user:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){if(!this.state.user)return null;var e=this.props.match.params.id,t=this.state.user;return r.a.createElement("section",{className:"pro-body is-fullheight-with-navbar"},r.a.createElement("div",{className:"is-fullwidth top-div"}),r.a.createElement("div",{className:"meta-container"},r.a.createElement("div",{className:"profile-container"},r.a.createElement("div",{className:"profile-card"},r.a.createElement("div",{className:"pro-img-div"},r.a.createElement("img",{className:"pro-img",src:t.profile_image,alt:t.username})),r.a.createElement("hr",{className:"divider-small"}),r.a.createElement("div",{className:"profile-data"},r.a.createElement("div",{className:"main-data"},r.a.createElement("p",{className:"user-info"},t.first_name," ",t.last_name),r.a.createElement("hr",{className:"divider-small"}),r.a.createElement("p",{className:"user-info"},t.sex),r.a.createElement("hr",{className:"divider-small"}),r.a.createElement("p",{className:"user-self-bio"},t.bio),r.a.createElement("hr",{className:"divider-small"}),r.a.createElement("span",{className:"user-info"},"Wish List: "),t.wish_list.map((function(e){return r.a.createElement("p",{className:"user-info",key:e.title},e.title)}))),r.a.createElement("hr",{className:"divider-small"}),this.isOwner()&&r.a.createElement(o.b,{to:"/user/".concat(e,"/amend")},r.a.createElement("button",{type:"button",className:"button is-rounded"},"Account Settings"))),r.a.createElement("hr",{className:"divider-small"})))))}}]),t}(r.a.Component)),T=function(e){var t=e.user,a=e.handleChange,n=e.handleSubmit;return r.a.createElement("section",{className:"form main-body"},r.a.createElement("h1",{className:"main-heading"},"User Settings"),r.a.createElement("form",{onSubmit:n},r.a.createElement("div",{className:"main-form-group"},r.a.createElement("input",{className:"main-user-form-field",onChange:a,placeholder:"Email",name:"email",value:t.email})),r.a.createElement("div",{className:"main-form-group"},r.a.createElement("input",{className:"main-user-form-field",onChange:a,placeholder:"First Name",name:"first_name",value:t.first_name})),r.a.createElement("div",{className:"main-form-group"},r.a.createElement("input",{className:"main-user-form-field",onChange:a,placeholder:"Last Name",name:"last_name",value:t.last_name})),r.a.createElement("div",{className:"main-form-group"},r.a.createElement("textarea",{className:"main-user-form-field",rows:"5",cols:"30",onChange:a,placeholder:"Bio",name:"bio",value:t.bio})),r.a.createElement("div",{className:"main-form-group"},r.a.createElement("input",{className:"main-user-form-field",onChange:a,placeholder:"Sex",name:"sex",value:t.sex})),r.a.createElement("div",{className:"main-form-group"},r.a.createElement("input",{className:"main-user-form-field",onChange:a,placeholder:"Profile Image",name:"profile_image",value:t.profile_image})),r.a.createElement("div",{className:"main-form-group"},r.a.createElement("input",{className:"main-user-form-field",onChange:a,type:"password",placeholder:"New Password",name:"password"})),r.a.createElement("div",{className:"main-form-group"},r.a.createElement("input",{className:"main-user-form-field",onChange:a,type:"password",placeholder:"Confirm New Password",name:"password_confirmation"})),r.a.createElement("div",{className:"button-div"},r.a.createElement("hr",{className:"divider"}),r.a.createElement("button",{className:"button is-rounded",type:"submit"},"Submit"),r.a.createElement("hr",{className:"divider-small"}))))},P=a(41),D={common:{"X-CSRF-TOKEN":a.n(P).a.get("csrftoken")},headers:{Authorization:"Bearer ".concat(h.getToken())}},I=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={user:null,data:{},errors:null},a.handleChange=function(e){var t=Object(C.a)({},a.state.data,Object(j.a)({},e.target.name,e.target.value)),n=Object(C.a)({},a.state.user,Object(j.a)({},e.target.name,e.target.value)),r=Object(C.a)({},a.state.errors,Object(j.a)({},e.target.name,""));a.setState({user:n,data:t,errors:r})},a.handleSubmit=function(){var e=Object(w.a)(k.a.mark((function e(t){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=h.getPayload().sub,e.prev=2,e.next=5,S.a.put("/api/user/".concat(n),a.state.data,D);case 5:a.props.history.push("api/user/".concat(n)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.log(e.t0.response.data);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(w.a)(k.a.mark((function e(){var t,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=h.getPayload().sub,e.prev=1,e.next=4,S.a.get("/api/user/".concat(t));case 4:a=e.sent,this.setState({user:a.data}),console.log(this.state),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){if(console.log("rendering"),!this.state.user)return null;this.state.user;return r.a.createElement(r.a.Fragment,null,h.isAuthenticated()&&r.a.createElement(T,{user:this.state.user,handleChange:this.handleChange,handleSubmit:this.handleSubmit,errors:this.state.errors}))}}]),t}(r.a.Component),F=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={user:null},a.getTotalPrice=function(){var e=a.state.user.shopping_cart,t=[];return e.map((function(e){return t.push(e.price)})),console.log(t),t.reduce((function(e,t){return e+t}))},a.currency=new Intl.NumberFormat("en-GB",{style:"currency",currency:"GBP",minimumFractionDigits:2}),a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(w.a)(k.a.mark((function e(){var t,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=h.getPayload().sub,e.prev=1,e.next=4,S.a.get("/api/user/".concat(t));case 4:a=e.sent,this.setState({user:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;if(!this.state.user)return null;console.log(this.state.user);var t=this.state.user,a=h.getPayload().sub;return console.log(a),r.a.createElement("section",{className:"cart-body"},r.a.createElement("h1",{className:"cart-head"},"Checkout"),t.shopping_cart.map((function(t){return r.a.createElement(o.b,{to:"/events/".concat(t.id)},r.a.createElement("div",{className:"item-card-checkout"},r.a.createElement("p",{className:"cart-item",key:t.title},t.title),r.a.createElement("p",{className:"cart-item-price",key:t.price},e.currency.format(t.price))))})),r.a.createElement("p",{className:"cart-item-price"},"Total: \xa3",this.getTotalPrice()),r.a.createElement("hr",{className:"divider-small"}),r.a.createElement(o.b,{to:"/secure_payment"},r.a.createElement("button",{type:"button",className:"button is-rounded"},"Proceed to payment")))}}]),t}(r.a.Component),q=a(43),M=a(42),B=a(19),L=a.n(B);function V(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/\D+/g,"")}function G(e){if(!e)return e;var t,a=L.a.fns.cardType(e),n=V(e);switch(a){case"amex":t="".concat(n.slice(0,4)," ").concat(n.slice(4,10)," ").concat(n.slice(10,15));break;case"dinersclub":t="".concat(n.slice(0,4)," ").concat(n.slice(4,10)," ").concat(n.slice(10,14));break;default:t="".concat(n.slice(0,4)," ").concat(n.slice(4,8)," ").concat(n.slice(8,12)," ").concat(n.slice(12,19))}return t.trim()}function R(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=V(e),r=4;if(a.number){var s=L.a.fns.cardType(a.number);r="amex"===s?4:3}return n.slice(0,r)}function z(e){var t=V(e);return t.length>=3?"".concat(t.slice(0,2),"/").concat(t.slice(2,4)):t}a(80);var W=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={user:null,number:"",name:"",expiry:"",cvc:"",issuer:"",focused:"",formData:null},a.handleCallback=function(e,t){var n=e.issuer;t&&a.setState({issuer:n})},a.handleInputFocus=function(e){var t=e.target;a.setState({focused:t.name})},a.handleInputChange=function(e){var t=e.target;"number"===t.name?t.value=G(t.value):"expiry"===t.name?t.value=z(t.value):"cvc"===t.name&&(t.value=R(t.value)),a.setState(Object(j.a)({},t.name,t.value))},a.handleSubmit=function(e){e.preventDefault();var t=Object(q.a)(e.target.elements).filter((function(e){return e.name})).reduce((function(e,t){return e[t.name]=t.value,e}),{});a.setState({formData:t}),a.form.reset()},a.getTotalPrice=function(){var e=a.state.user.shopping_cart,t=[];return e.map((function(e){return t.push(e.price)})),console.log(t),t.reduce((function(e,t){return e+t}))},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(w.a)(k.a.mark((function e(){var t,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=h.getPayload().sub,e.prev=1,e.next=4,S.a.get("/api/user/".concat(t));case 4:a=e.sent,this.setState({user:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;if(!this.state.user)return null;var t,a=this.state,n=a.name,s=a.number,c=a.expiry,o=a.cvc,l=a.focused,i=a.issuer,m=a.formData;return console.log(this.state.user),r.a.createElement("section",{className:"main-body"},r.a.createElement("hr",{className:"divider"}),r.a.createElement("h1",{className:"main-heading"},"Secure Payment"),r.a.createElement("hr",{className:"divider"}),r.a.createElement("div",{key:"Payment"},r.a.createElement("div",{className:"App-payment"},r.a.createElement(M.a,{number:s,name:n,expiry:c,cvc:o,focused:l,callback:this.handleCallback}),r.a.createElement("div",{className:"form-wrapper"},r.a.createElement("form",{ref:function(t){return e.form=t},onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group main-form-group"},r.a.createElement("input",{type:"tel",name:"number",className:"form-control main-form-field",placeholder:"Card Number",pattern:"[\\d| ]{16,22}",required:!0,onChange:this.handleInputChange,onFocus:this.handleInputFocus}),r.a.createElement("label",{for:"number",className:"main-form-label"},"Card Number")),r.a.createElement("div",{className:"form-group main-form-group"},r.a.createElement("input",{type:"text",name:"name",className:"form-control main-form-field",placeholder:"Name",required:!0,onChange:this.handleInputChange,onFocus:this.handleInputFocus}),r.a.createElement("label",{for:"name",className:"main-form-label"},"Cardholder's Name")),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-6 main-form-group"},r.a.createElement("input",{type:"tel",name:"expiry",className:"form-control main-form-field",placeholder:"Valid Thru",pattern:"\\d\\d/\\d\\d",required:!0,onChange:this.handleInputChange,onFocus:this.handleInputFocus}),r.a.createElement("label",{for:"expiry",className:"main-form-label"},"Card Expiry Date")),r.a.createElement("div",{className:"col-6 main-form-group"},r.a.createElement("input",{type:"tel",name:"cvc",className:"form-control main-form-field",placeholder:"CVC",pattern:"\\d{3,4}",required:!0,onChange:this.handleInputChange,onFocus:this.handleInputFocus}),r.a.createElement("label",{for:"cvc",className:"main-form-label"},"CVC"))),r.a.createElement("input",{type:"hidden",name:"issuer",value:i}),r.a.createElement("hr",{className:"divider"}),r.a.createElement("p",{className:"final-price"},"Total: \xa3",this.getTotalPrice()),r.a.createElement("hr",{className:"divider"}),r.a.createElement("div",{className:"form-actions"},r.a.createElement("button",{className:"btn btn-primary btn-block button is-rounded"},"PAY"))),r.a.createElement("hr",{className:"divider"})),m&&r.a.createElement("div",{className:"App-highlight"},(t=m,Object.keys(t).map((function(e){return"".concat(e,": ").concat(t[e])}))).map((function(e,t){return r.a.createElement("div",{key:t},e)}))))))}}]),t}(r.a.Component),U=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={user:null,errors:null},a.remFromShopCart=function(){var e=Object(w.a)(k.a.mark((function e(t){var n,r,s,c,o,l;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.state.user,r=n.shopping_cart.map((function(e){return e.id})),s={shopping_cart:r},c=h.getPayload().sub,o=parseInt(t.target.name),l=r.indexOf(o),r.includes(o)?r.splice(l,1):r.push(o),e.prev=7,e.next=10,S.a.put("/api/user/".concat(c),s,{headers:{Authorization:"Bearer ".concat(h.getToken())}});case 10:window.location.reload(!1),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(7),console.log(e.t0.response.data);case 16:case"end":return e.stop()}}),e,null,[[7,13]])})));return function(t){return e.apply(this,arguments)}}(),a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(w.a)(k.a.mark((function e(){var t,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.id,e.prev=1,e.next=4,S.a.get("/api/user/".concat(t));case 4:a=e.sent,this.setState({user:a.data}),console.log(a.data),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=h.getPayload().sub;if(console.log("rendering"),!this.state.user)return null;var a=this.state.user;return r.a.createElement("section",{className:"cart-body"},h.isAuthenticated()&&r.a.createElement("p",{className:"cart-head"},a.username,"'s Shopping Cart:"),h.isAuthenticated()&&0!==this.state.user.shopping_cart.length?this.state.user.shopping_cart.map((function(t){return r.a.createElement(r.a.Fragment,null,r.a.createElement(o.b,{to:"/events/".concat(t.id)},r.a.createElement("div",{className:"item-card-checkout"},r.a.createElement("h3",{className:"cart-item"},t.title),r.a.createElement("h3",{className:"cart-item-price"},"\xa3",t.price))),r.a.createElement("button",{name:t.id,onClick:e.remFromShopCart,className:"button cart-btn is-rounded is-danger"},"Remove item"),r.a.createElement("hr",{className:"divider"}))})):r.a.createElement("p",{className:"cart-head"},"Your cart is empty!"),h.isAuthenticated()&&0!==this.state.user.shopping_cart.length?r.a.createElement(o.b,{to:"/user/".concat(t,"/checkout")},r.a.createElement("button",{type:"button",className:"button is-rounded cart-btn"},"Checkout")):null)}}]),t}(r.a.Component),J=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={data:null,emailValid:!1,formValid:!1,passwordValid:!1,formErrors:{email:"",password:""}},a.handleChange=function(e){var t=e.target.name,n=e.target.value,r=Object(C.a)({},a.state.data,Object(j.a)({},t,n));a.setState({data:r},(function(){a.validateField(t,n)}))},a.handleSubmit=function(){var e=Object(w.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,S.a.post("/api/register",a.state.data);case 4:a.props.history.push("/login"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"validateField",value:function(e,t){var a=this.state.formErrors,n=this.state.emailValid,r=this.state.passwordValid;switch(e){case"email":n=t.match(/^([\w.%+-]+)@([\w-]+\.)+([\w]{2,})$/i),a.email=n?"":" is invalid";break;case"password":r=t.length>=1,a.password=r?"":" is too short"}this.setState({formErrors:a,emailValid:n,passwordValid:r},this.validateForm)}},{key:"validateForm",value:function(){this.setState({formValid:this.state.emailValid&&this.state.passwordValid})}},{key:"errorClass",value:function(e){return 0===e.length?"":"has-error"}},{key:"render",value:function(){return r.a.createElement("section",{className:"main-body"},r.a.createElement("h1",{className:"main-heading"},"Register"),r.a.createElement("div",{className:"form-wrapper"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"main-form-group"},r.a.createElement("input",{className:"main-form-field",onChange:this.handleChange,placeholder:"username",name:"username",required:!0}),r.a.createElement("label",{for:"username",className:"main-form-label"},"Username")),r.a.createElement("div",{className:"main-form-group"},r.a.createElement("input",{className:"main-form-field",onChange:this.handleChange,type:"email",placeholder:"email",name:"email",required:!0}),r.a.createElement("label",{for:"email",className:"main-form-label"},"Email")),r.a.createElement("div",{className:"main-form-group"},r.a.createElement("input",{className:"main-form-field",onChange:this.handleChange,type:"password",placeholder:"password",name:"password",required:!0}),r.a.createElement("label",{for:"password",className:"main-form-label"},"Password")),r.a.createElement("div",{className:"main-form-group"},r.a.createElement("input",{className:"main-form-field",onChange:this.handleChange,type:"password",placeholder:"confirm password",name:"password_confirmation",required:!0}),r.a.createElement("label",{for:"password_confirmation",className:"main-form-label"},"Confirm Password")),r.a.createElement("hr",{className:"divider"}),r.a.createElement("div",null,r.a.createElement("button",{className:"button is-rounded",type:"submit",disabled:!this.state.formValid},"Register")))))}}]),t}(r.a.Component),Y=function(e){var t=e.id,a=e.sport,n=e.title,s=e.location,c=e.price,l=e.time_and_date,i=e.description;return r.a.createElement("div",{className:"event-card"},r.a.createElement(o.b,{to:"/events/".concat(t)},r.a.createElement("h2",{className:"ev-card-title"},n),r.a.createElement("p",{className:"ev-card-content"},a),r.a.createElement("p",{className:"ev-card-content"},s),r.a.createElement("p",{className:"ev-card-content"},"\xa3",c),r.a.createElement("p",{className:"ev-card-content"},l),r.a.createElement("p",{className:"ev-card-content"},i)))},H=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={events:null},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(w.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.a.get("/api/events");case 3:t=e.sent,this.setState({events:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){if(!this.state.events)return null;var e=this.state.events;return console.log("events:",e),r.a.createElement("section",{className:"main-body-event"},r.a.createElement("h1",{className:"event-head"},"Events"),e.map((function(e){return r.a.createElement(Y,Object.assign({key:e.id},e))})),r.a.createElement("div",null,r.a.createElement("hr",{className:"divider-small"}),h.isAuthenticated()?r.a.createElement(o.b,{to:"/events/create"},r.a.createElement("button",{type:"button",className:"button is-rounded"},"Create New Event")):null))}}]),t}(r.a.Component),X=function(e){var t=e.data,a=e.handleChange,n=e.handleSubmit;return console.log(t),r.a.createElement("section",{className:"main-body"},r.a.createElement("h1",{className:"main-heading"},"Event"),r.a.createElement("div",{className:"form-wrapper"},r.a.createElement("form",{onSubmit:n},r.a.createElement("div",{className:"main-form-group"},r.a.createElement("input",{className:"main-form-field",onChange:a,placeholder:"Event Title",name:"title",value:t.title,required:!0}),r.a.createElement("label",{for:"title",className:"main-form-label"},"Event Title")),r.a.createElement("div",{className:"main-form-group"},r.a.createElement("input",{className:"main-form-field",onChange:a,placeholder:"Price",name:"price",value:t.price,required:!0}),r.a.createElement("label",{for:"price",className:"main-form-label"},"Price")),r.a.createElement("div",{className:"main-form-group"},r.a.createElement("input",{className:"main-form-field",onChange:a,placeholder:"Time & Date",type:"datetime-local",name:"time_and_date",value:t.time_and_date,required:!0}),r.a.createElement("label",{for:"time_and_date",className:"main-form-label"},"Time & Date")),r.a.createElement("div",{className:"main-form-group"},r.a.createElement("textarea",{className:"main-user-form-field",rows:"5",cols:"30",onChange:a,placeholder:"Description",name:"description",value:t.description,required:!0})),r.a.createElement("div",{className:"main-form-group"},r.a.createElement("input",{className:"main-form-field",onChange:a,placeholder:"Location",name:"location",value:t.location,required:!0}),r.a.createElement("label",{for:"location",className:"main-form-label"},"Location")),r.a.createElement("div",{className:"main-form-group"},r.a.createElement("input",{className:"main-form-field",onChange:a,placeholder:"Sport",name:"sport"}),r.a.createElement("label",{for:"sport",className:"main-form-label"},"Sport")),r.a.createElement("hr",{className:"divider"}),r.a.createElement("div",{className:"button-div"},r.a.createElement("button",{className:"button is-rounded",type:"submit"},"Submit")))))},$=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={data:{title:"",price:"",time_and_date:"",location:"",sport:""}},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value,s=Object(C.a)({},a.state.data,Object(j.a)({},n,r));a.setState({data:s})},a.handleSubmit=function(){var e=Object(w.a)(k.a.mark((function e(t){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,S.a.post("/api/events/",a.state.data,{headers:{Authorization:"Bearer ".concat(h.getToken())}});case 4:n=e.sent,a.props.history.push("/events/".concat(n.data.id)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("section",{className:"form"},r.a.createElement(X,{data:this.state.data,handleChange:this.handleChange,handleSubmit:this.handleSubmit}))}}]),t}(r.a.Component),K=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={data:{title:"",price:"",time_and_date:"",location:"",sport:""}},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value,s=Object(C.a)({},a.state.data,Object(j.a)({},n,r));console.log(s),a.setState({data:s})},a.handleSubmit=function(){var e=Object(w.a)(k.a.mark((function e(t){var n,r,s;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=a.props.match.params.id,console.log(n),e.prev=3,e.next=6,S.a.put("/api/events/".concat(n,"/"),a.state.data,{headers:{Authorization:"Bearer ".concat(h.getToken())}});case 6:r=e.sent,s=r.data,console.log({data:s}),a.props.history.push("/events/".concat(s.id)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),console.log(e.t0.response.data);case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}(),a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(w.a)(k.a.mark((function e(){var t,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.id,e.prev=1,e.next=4,S.a.get("/api/events/".concat(t,"/"));case 4:a=e.sent,this.setState({data:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return console.log(this.state.data),r.a.createElement(X,{data:this.state.data,handleChange:this.handleChange,handleSubmit:this.handleSubmit})}}]),t}(r.a.Component),Q=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={group:{group_name:"",attendees:[],event:{},owner:{},id:""},errors:{}},a.isOwner=function(){return h.getPayload().sub===a.state.group.owner.id},a.handleClick=function(){var e=Object(w.a)(k.a.mark((function e(t){var n,r,s,c,o;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=h.getPayload().sub,r=a.state.group.attendees,e.prev=3,e.next=6,S.a.get("/api/user/".concat(n));case 6:s=e.sent,c=r.filter((function(e){return e.id===n}))[0],o=r.indexOf(c),r.some((function(e){return e.id===s.data.id}))?r.splice(o,1):r.push(s.data),a.setState({attendees:r}),a.handleSubmit(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),console.log(e.t0.response.data);case 17:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(t){return e.apply(this,arguments)}}(),a.handleSubmit=function(){var e=Object(w.a)(k.a.mark((function e(t){var n,r,s,c;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.state.group,r={group_name:n.group_name,attendees:n.attendees.map((function(e){return e.id})),event:n.event,owner:n.owner,id:n.id},s=a.props.id,c=a.props.event.id,e.prev=4,e.next=7,S.a.put("/api/events/".concat(c,"/event_groups/").concat(s,"/"),r,{headers:{Authorization:"Bearer ".concat(h.getToken())}});case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(4),console.log(e.t0.response.data);case 12:case"end":return e.stop()}}),e,null,[[4,9]])})));return function(t){return e.apply(this,arguments)}}(),a.deleteGroup=Object(w.a)(k.a.mark((function e(){var t,n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.id,n=a.props.event.id,console.log(a.props),e.prev=3,e.next=6,S.a.delete("/api/events/".concat(n,"/event_groups/").concat(t,"/"),{headers:{Authorization:"Bearer ".concat(h.getToken())}});case 6:window.location.reload(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[3,9]])}))),a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(w.a)(k.a.mark((function e(){var t,a,n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.id,a=this.props.event.id,e.prev=2,e.next=5,S.a.get("/api/events/".concat(a,"/event_groups/").concat(t,"/"));case 5:n=e.sent,this.setState({group:n.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),this.setState({errors:e.t0.response.data.errors});case 12:case"end":return e.stop()}}),e,this,[[2,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=h.getPayload().sub,t=this.state.group,a=t.attendees[0];return r.a.createElement("section",null,r.a.createElement("div",{className:"card-div"},r.a.createElement("div",{className:"grp-card-info"},r.a.createElement("h2",{className:"grp-name-head"},t.group_name)),a&&r.a.createElement("h3",null,"Leader: ",a.username),null!==t.attendees?r.a.createElement("h3",null,"Attendees:",t.attendees.map((function(e,t){return r.a.createElement("div",{className:"meta-user-card",key:t},r.a.createElement(o.b,{to:"/user/".concat(e.id)},r.a.createElement("p",{className:"user-name-grp"},e.first_name," ",e.last_name),r.a.createElement("img",{className:"user-img-card",src:e.profile_image,alt:e.username})))}))):null,null!==t.attendees&&h.isAuthenticated()?r.a.createElement("div",{className:"buttons"},t.attendees.some((function(t){return t.id===e}))?r.a.createElement("div",null,r.a.createElement("button",{type:"button",className:"button is-rounded arr-btn",onClick:this.handleClick},"Leave")):r.a.createElement("div",null,r.a.createElement("button",{type:"button",className:"button is-rounded arr-btn",onClick:this.handleClick},"Join")),this.isOwner()&&r.a.createElement("div",null,r.a.createElement(o.b,{to:"/events/".concat(t.event.id,"/event_groups/").concat(t.id,"/amend")},r.a.createElement("button",{type:"button",className:"button is-rounded arr-btn"},"Rename Group")),r.a.createElement("button",{onClick:this.deleteGroup,type:"button",className:"button is-rounded arr-btn is-danger"},"Delete Group"))):null))}}]),t}(r.a.Component),Z=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={event:null,groups:null,user:null},a.isOwner=function(){return h.getPayload().sub===a.state.event.owner.id},a.deleteEvent=Object(w.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.match.params.id,e.prev=1,e.next=4,S.a.delete("/api/events/".concat(t,"/"),{headers:{Authorization:"Bearer ".concat(h.getToken())}});case 4:a.props.history.push("/events"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),a.props.history.push("/unknown-path");case 10:case"end":return e.stop()}}),e,null,[[1,7]])}))),a.addToWishList=Object(w.a)(k.a.mark((function e(){var t,n,r,s,c,o;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state.user,n=t.wish_list.map((function(e){return e.id})),r={wish_list:n},s=h.getPayload().sub,c=a.state.event.id,o=n.indexOf(c),n.includes(c)?n.splice(o,1):n.push(c),e.prev=7,e.next=10,S.a.put("/api/user/".concat(s),r,{headers:{Authorization:"Bearer ".concat(h.getToken())}});case 10:window.location.reload(!1),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(7),console.log(e.t0.response.data);case 16:case"end":return e.stop()}}),e,null,[[7,13]])}))),a.addToShopCart=Object(w.a)(k.a.mark((function e(){var t,n,r,s,c,o;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state.user,n=t.shopping_cart.map((function(e){return e.id})),r={shopping_cart:n},s=h.getPayload().sub,c=a.state.event.id,o=n.indexOf(c),n.includes(c)?n.splice(o,1):n.push(c),e.prev=7,e.next=10,S.a.put("/api/user/".concat(s),r,{headers:{Authorization:"Bearer ".concat(h.getToken())}});case 10:window.location.reload(!1),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(7),console.log(e.t0.response.data);case 16:case"end":return e.stop()}}),e,null,[[7,13]])}))),a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(w.a)(k.a.mark((function e(){var t,a,n=this;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=h.getPayload().sub,a=this.props.match.params.id,e.next=5,S.a.all([S.a.get("/api/events/".concat(a)),S.a.get("/api/events/".concat(a,"/event_groups")),h.getPayload()&&S.a.get("/api/user/".concat(t))]).then(S.a.spread((function(e,t,a){n.setState({event:e.data,groups:t.data,user:a.data})})));case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;if(!this.state.event)return null;if(!this.state.user)return null;var t=this.state.event.id,a=this.state.user.wish_list.map((function(e){return e.id})),n=this.state.user.shopping_cart.map((function(e){return e.id})),s=this.state.groups.filter((function(t){return t.event.id===e.state.event.id}));return r.a.createElement("section",{className:"main-body-event-disp"},r.a.createElement("h1",{className:"ev-disp-title"},this.state.event.title),r.a.createElement("h3",{className:"ev-disp-subtitle"},"Price: \xa3",this.state.event.price," | ",this.state.event.time_and_date," |"," ",this.state.event.location),r.a.createElement("p",{className:"ev-disp-subtitle"},this.state.event.description),r.a.createElement("div",null,r.a.createElement("h3",{className:"ev-disp-subtitle"},"Groups"),s.map((function(e){return r.a.createElement("div",{className:"grp-card-sec"},r.a.createElement(Q,Object.assign({key:e.id},e)))}))),r.a.createElement("hr",{className:"divider-small"}),r.a.createElement("div",{className:"buttons"},h.isAuthenticated()?a&&a.includes(t)?r.a.createElement("button",{className:"button is-rounded arr-btn",onClick:this.addToWishList},"Remove from Wishlist"):r.a.createElement("button",{className:"button is-rounded arr-btn",onClick:this.addToWishList},"Add to Wishlist"):null,r.a.createElement(r.a.Fragment,null,h.isAuthenticated()?n&&n.includes(t)?r.a.createElement("button",{className:"button is-rounded arr-btn",onClick:this.addToShopCart},"Remove from Cart"):r.a.createElement("button",{className:"button is-rounded arr-btn",onClick:this.addToShopCart},"Add to Cart"):null),h.isAuthenticated()?r.a.createElement(r.a.Fragment,null,r.a.createElement(o.b,{to:"/events/".concat(t,"/event_groups/create")},r.a.createElement("button",{type:"button is-rounded",className:"button is-rounded arr-btn"},"Create New Group")),this.isOwner()&&r.a.createElement("div",null,r.a.createElement(o.b,{to:"/events/".concat(t,"/amend")},r.a.createElement("button",{className:"button is-rounded arr-btn",type:"button"},"Amend Event")),r.a.createElement("button",{className:"button is-rounded is-danger arr-btn",onClick:this.deleteEvent},"Delete Event"))):null))}}]),t}(r.a.Component),ee=function(e){var t=e.handleChange,a=e.handleSubmit;return r.a.createElement("section",{className:"main-body"},r.a.createElement("div",{className:"form-wrapper"},r.a.createElement("form",{onSubmit:a},r.a.createElement("div",{className:"main-form-group"},r.a.createElement("input",{className:"main-form-field",onChange:t,placeholder:"Group Name",name:"group_name",required:!0}),r.a.createElement("label",{for:"group_name",className:"main-form-label"},"Group Name")),r.a.createElement("hr",{className:"divider"}),r.a.createElement("div",{className:"button-div"},r.a.createElement("button",{className:"button is-rounded",type:"submit"},"Submit")))))},te=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={group:{group_name:""}},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value,s=Object(C.a)({},a.state.group,Object(j.a)({},n,r));a.setState({group:s})},a.handleSubmit=function(){var e=Object(w.a)(k.a.mark((function e(t){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=a.props.match.params.id,e.prev=2,e.next=5,S.a.post("/api/events/".concat(n,"/event_groups/"),a.state.group,{headers:{Authorization:"Bearer ".concat(h.getToken())}});case 5:a.props.history.push("/events/".concat(n,"/")),console.log("group made successfully"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0.response.data);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee,{team:this.state.team,handleChange:this.handleChange,handleSubmit:this.handleSubmit}))}}]),t}(r.a.Component),ae=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={event_group:{},data:{group_name:""}},a.handleChange=function(e){var t=e.target.value;a.setState({data:Object(C.a)({},a.state.data,{group_name:t})})},a.handleSubmit=function(){var e=Object(w.a)(k.a.mark((function e(t){var n,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=a.state.event_group.event.id,r=a.state.event_group.id,e.prev=3,e.next=6,S.a.put("/api/events/".concat(n,"/event_groups/").concat(r,"/"),a.state.data,D);case 6:a.props.history.push("/events/".concat(n)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),console.log(e.t0.response.data);case 12:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}(),a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(w.a)(k.a.mark((function e(){var t,a,n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.location.pathname.charAt(23),a=this.props.match.params.id,console.log("groupId",t),console.log("eventId",a),e.prev=4,e.next=7,S.a.get("/api/events/".concat(a,"/event_groups/").concat(t));case 7:n=e.sent,this.setState({event_group:n.data}),console.log(a),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),console.log(e.t0);case 15:case"end":return e.stop()}}),e,this,[[4,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return console.log(this.state),r.a.createElement(ee,{data:this.state.data,handleChange:this.handleChange,handleSubmit:this.handleSubmit})}}]),t}(r.a.Component),ne=function(e){var t=e.id,a=e.name,n=e.image;return r.a.createElement(r.a.Fragment,null,r.a.createElement(o.b,{to:"/sports/".concat(t)},r.a.createElement("div",{className:"sport-card"},r.a.createElement("div",{className:"card-info"},r.a.createElement("h2",{className:"sport-card-title"},a),r.a.createElement("div",null,r.a.createElement("img",{src:n,alt:a,className:"sport-card-img"}))))))},re=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={sports:null},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(w.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.a.get("/api/sports");case 3:t=e.sent,this.setState({sports:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){if(!this.state.sports)return null;var e=this.state.sports;return console.log("sports:",e),r.a.createElement("section",{className:"main-body-sport"},r.a.createElement("h1",{className:"event-head"},"Sports"),r.a.createElement("div",{className:"meta-container-spt-disp"},e.map((function(e){return r.a.createElement("div",{className:"spt-cd-wrapper"},r.a.createElement(ne,Object.assign({key:e.id},e)))}))),r.a.createElement("hr",{className:"divider-small"}),r.a.createElement("div",null,h.isAuthenticated()?r.a.createElement(o.b,{to:"/sports/create"},r.a.createElement("button",{type:"button",className:"button is-rounded"},"Create Sport")):null))}}]),t}(r.a.Component),se=function(e){var t=e.sport,a=e.handleChange,n=e.handleSubmit;return console.log(t),r.a.createElement("section",{className:"main-body"},r.a.createElement("div",null,r.a.createElement("h1",{className:"main-heading"},"Sport"),r.a.createElement("div",{className:"form-wrapper"},r.a.createElement("form",{onSubmit:n},r.a.createElement("div",{className:"main-form-group"},r.a.createElement("input",{className:"main-form-field",onChange:a,placeholder:"Name",name:"name",value:t.name,required:!0}),r.a.createElement("label",{for:"name",className:"main-form-label"},"Name")),r.a.createElement("div",{className:"main-form-group"},r.a.createElement("input",{className:"main-form-field",onChange:a,placeholder:"Image",name:"image",value:t.image,required:!0}),r.a.createElement("label",{for:"image",className:"main-form-label"},"Image URL")),r.a.createElement("div",{className:"main-form-group"},r.a.createElement("textarea",{className:"main-user-form-field",rows:"5",cols:"30",onChange:a,placeholder:"Description",name:"description",value:t.description,required:!0})),r.a.createElement("hr",{className:"divider"}),r.a.createElement("div",{className:"button-div"},r.a.createElement("button",{className:"button is-rounded",type:"submit"},"Submit"))))))},ce=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={sport:{},errors:null},a.handleChange=function(e){var t=Object(C.a)({},a.state.sport,Object(j.a)({},e.target.name,e.target.value)),n=Object(C.a)({},a.state.errors,Object(j.a)({},e.target.name,""));a.setState({sport:t,errors:n})},a.handleSubmit=function(){var e=Object(w.a)(k.a.mark((function e(t){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log(a.state.sport),e.prev=2,e.next=5,S.a.post("/api/sports/",a.state.sport,{headers:{Authorization:"Bearer ".concat(h.getToken())}});case 5:n=e.sent,a.props.history.push("/sports/".concat(n.data.id)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("section",{className:"form"},r.a.createElement(se,{sport:this.state.sport,handleChange:this.handleChange,handleSubmit:this.handleSubmit}))}}]),t}(r.a.Component),oe=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={sport:{},errors:null},a.handleChange=function(e){var t=Object(C.a)({},a.state.sport,Object(j.a)({},e.target.name,e.target.value)),n=Object(C.a)({},a.state.errors,Object(j.a)({},e.target.name,""));a.setState({sport:t,errors:n})},a.handleSubmit=function(){var e=Object(w.a)(k.a.mark((function e(t){var n,r,s;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=a.props.match.params.id,console.log(n),e.prev=3,e.next=6,S.a.put("/api/sports/".concat(n,"/"),a.state.sport,D);case 6:r=e.sent,s=r.data,console.log(s),a.props.history.push("/sports/".concat(s.id)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),console.log(e.t0.response.data);case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}(),a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(w.a)(k.a.mark((function e(){var t,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.id,e.prev=1,e.next=4,S.a.get("/api/sports/".concat(t,"/"));case 4:a=e.sent,this.setState({sport:{name:a.data.name,image:a.data.image,description:a.data.description}}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return console.log(this.state.sport),this.state.sport?r.a.createElement(se,{sport:this.state.sport,handleChange:this.handleChange,handleSubmit:this.handleSubmit,errors:this.state.errors}):null}}]),t}(r.a.Component),le=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={sport:null},a.isOwner=function(){return h.getPayload().sub===a.state.sport.owner.id},a.deleteSport=Object(w.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.match.params.id,e.prev=1,e.next=4,S.a.delete("/api/sports/".concat(t,"/"),{headers:{Authorization:"Bearer ".concat(h.getToken())}});case 4:a.props.history.push("/sports"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),a.props.history.push("/unknown-path");case 10:case"end":return e.stop()}}),e,null,[[1,7]])}))),a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(w.a)(k.a.mark((function e(){var t,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.props.match.params.id,e.next=4,S.a.get("/api/sports/".concat(t));case 4:a=e.sent,this.setState({sport:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){if(!this.state.sport)return null;var e=this.props.match.params.id;return r.a.createElement("section",{className:"main-body-sport-disp"},r.a.createElement("h1",{className:"sport-disp-title"},this.state.sport.name),r.a.createElement("img",{src:this.state.sport.image,alt:this.state.sport.name,className:"sport-img-disp"}),r.a.createElement("hr",{className:"divider-small"}),r.a.createElement(o.b,{to:"/events/create"},r.a.createElement("button",{type:"button",className:"button is-rounded sport-arr-btn"},"Add Event")),r.a.createElement("hr",{className:"divider-small"}),r.a.createElement("div",{className:"events-section"},r.a.createElement("h3",{className:"events-title-spt"},"Events:"),r.a.createElement("p",{className:"sport-card-content"},this.state.sport.events.map((function(e){return r.a.createElement(o.b,{to:"/events/".concat(e.id)},r.a.createElement("p",{className:"event-desc-spt-disp"},e.title))})))),r.a.createElement("hr",{className:"divider-small"}),h.isAuthenticated()?r.a.createElement(r.a.Fragment,null,this.isOwner()&&r.a.createElement("div",null,r.a.createElement(o.b,{to:"/sports/".concat(e,"/amend")},r.a.createElement("button",{className:"button is-rounded sport-arr-btn",type:"button"},"Amend Sport")),r.a.createElement("button",{className:"button is-rounded is-danger sport-arr-btn",onClick:this.deleteSport},"Delete Sport"))):null,r.a.createElement("div",{className:"right-column"},r.a.createElement("p",{className:"sport-description"},this.state.sport.description)))}}]),t}(r.a.Component),ie=function(){return r.a.createElement("h1",{className:"unknown-route"},"Error 404: This page does not exist")};a(81);var me=function(){return r.a.createElement("main",null,r.a.createElement(o.a,null,r.a.createElement(f,null),r.a.createElement(l.d,null,r.a.createElement(l.b,{exact:!0,path:"/",component:y}),r.a.createElement(g,{path:"/events/:id/event_groups/:id/amend",component:ae}),r.a.createElement(g,{path:"/events/:id/event_groups/create",component:te}),r.a.createElement(g,{path:"/events/:id/amend",component:K}),r.a.createElement(g,{path:"/events/create",component:$}),r.a.createElement(l.b,{path:"/events/:id",component:Z}),r.a.createElement(l.b,{path:"/events",component:H}),r.a.createElement(g,{path:"/sports/:id/amend",component:oe}),r.a.createElement(g,{path:"/sports/create",component:ce}),r.a.createElement(l.b,{path:"/sports/:id",component:le}),r.a.createElement(l.b,{path:"/sports",component:re}),r.a.createElement(l.b,{path:"/login",component:_}),r.a.createElement(l.b,{path:"/register",component:J}),r.a.createElement(g,{path:"/secure_payment",component:W}),r.a.createElement(g,{path:"/user/:id/checkout",component:F}),r.a.createElement(g,{path:"/user/:id/cart",component:U}),r.a.createElement(g,{path:"/user/:id/amend",component:I}),r.a.createElement(l.b,{path:"/user/:id",component:A}),r.a.createElement(l.b,{path:"/*",component:ie}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(me,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[44,1,2]]]);
//# sourceMappingURL=main.d4ec3eb2.chunk.js.map